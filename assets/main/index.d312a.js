System.register("chunks:///_virtual/BlockIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityTile.ts","./Icon.ts"],(function(t){"use strict";var e,r,o,n,c,i,l,s,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){c=t.cclegacy,i=t._decorator,l=t.Enum},function(t){s=t.BlockType},function(t){a=t.Icon}],execute:function(){var p,u,y,f,d;c._RF.push({},"bf173kzGRxERbydTrg/d3IJ","BlockIcon",void 0);var h=i.ccclass,I=i.property;t("BlockIcon",(p=h("BlockIcon"),u=I({type:l(s),override:!0}),p((d=e((f=function(t){function e(){for(var e,r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return e=t.call.apply(t,[this].concat(c))||this,o(e,"type",d,n(e)),e}return r(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e}(a)).prototype,"type",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=f))||y));c._RF.pop()}}}));

System.register("chunks:///_virtual/BombIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BonusIcon.ts","./EntityTile.ts"],(function(t){"use strict";var e,o,n,r,i,c,s,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,c=t._decorator,s=t.Enum},function(t){a=t.BonusIcon},function(t){u=t.BonusType}],execute:function(){var l,p,y,f,b;i._RF.push({},"3a266raxElEMYFQSQ6yEF5t","BombIcon",void 0);var v=c.ccclass,h=c.property;t("BombIcon",(l=v("BombIcon"),p=h({type:s(u),visible:!1,override:!0}),l((b=e((f=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i))||this,n(e,"type",b,r(e)),e.tile=void 0,e}return o(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e}(a)).prototype,"type",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.bomb}}),y=f))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/BonusGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityTile.ts","./CellGroup.ts","./TileRocket.ts"],(function(e){"use strict";var t,r,n,i,o,s,u;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass},function(e){n=e.cclegacy},function(e){i=e.BonusType,o=e.ColorType},function(e){s=e.CellGroup},function(e){u=e.RocketDirection}],execute:function(){n._RF.push({},"a4d2aDhmJBCfahxQGSK/ptq","BonusGroup",void 0);e("BonusGroup",function(e){function n(t){return e.call(this,t)||this}t(n,e);var s=n.prototype;return s._merge=function(e){return this._generateTiles(e,this._removeTiles())},s.isEqual=function(e,t){return!(!e||!t)&&t.typeString in i},s._generateTiles=function(e,t){if(0===this.size)return[];var r,n=0,o=0,s=0;return t.forEach((function(e){switch(e.type){case i.rocket:n++;break;case i.bomb:o++;break;case i.disco:r=e.color,s++}})),s>1?[this._generateBlastAll(e)]:s>0&&o>0?this._generateTile(e,r,i.bomb):s>0&&n>0?this._generateTile(e,r,i.rocket):o>1?[this._generateBigBlast(e)]:o>0&&n>0?[this._generateRocketCross(e,1)]:n>1?[this._generateRocketCross(e)]:[]},s._generateRocketCross=function(e,t){void 0===t&&(t=0);var r=e.create(i[i.rocket]);return r.radius=t,r.direction=u.cross,r},s._generateBigBlast=function(e,t){void 0===t&&(t=2);var r=e.create(i[i.bomb]);return r.radius=t,r},s._generateTile=function(e,t,r){var n=[],s=o[t];return this.gameField.eachCell((function(e){var t;if((null==(t=e.tile)?void 0:t.typeString)===s){var o=e.replace(i[r]);n.push(o)}})),n},s._generateBlastAll=function(e){return this._generateBigBlast(e,Math.max(this.gameField.columnCount,this.gameField.rowCount))},r(n,[{key:"canHit",get:function(){return this.size>0}},{key:"canMerge",get:function(){return this.size>1}}]),n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/BonusIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityTile.ts","./Icon.ts"],(function(n){"use strict";var e,t,r,o,i,c,s,u,a;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,r=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){i=n.cclegacy,c=n._decorator,s=n.Enum},function(n){u=n.BonusType},function(n){a=n.Icon}],execute:function(){var l,p,y,f,v;i._RF.push({},"67a0dCOiOBMT6zWUn66g8v/","BonusIcon",void 0);var d=c.ccclass,h=c.property;n("BonusIcon",(l=d("BonusIcon"),p=h({type:s(u),override:!0}),l((v=e((f=function(n){function e(){for(var e,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return e=n.call.apply(n,[this].concat(i))||this,r(e,"type",v,o(e)),e}return t(e,n),e}(a)).prototype,"type",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=f))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/Booster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BoosterBase.ts"],(function(t){"use strict";var n,o,e,s;return{setters:[function(t){n=t.inheritsLoose,o=t.createClass},function(t){e=t.cclegacy},function(t){s=t.BoosterBase}],execute:function(){var c;t("BoosterEvent",void 0),e._RF.push({},"7f542BjITRNgKt9CdvIcsV2","Booster",void 0),function(t){t[t.countChanged=0]="countChanged",t[t.applied=1]="applied"}(c||(c=t("BoosterEvent",{})));t("Booster",function(t){function e(){for(var n,o=arguments.length,e=new Array(o),s=0;s<o;s++)e[s]=arguments[s];return(n=t.call.apply(t,[this].concat(e))||this)._count=3,n}return n(e,t),e.prototype.apply=function(t){return!this.isEmpty&&(this.count--,this.dispatch(c.applied,this._count),!0)},o(e,[{key:"count",get:function(){return this._count},set:function(t){this._count=t,this.dispatch(c.countChanged,this._count)}},{key:"isEmpty",get:function(){return 0===this._count}}]),e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/BoosterBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Events.ts"],(function(t){"use strict";var e,n,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){s=t.Events}],execute:function(){n._RF.push({},"1e157PhgM9JQqHMKb/HFBLu","BoosterBase",void 0);t("BoosterBase",function(t){function n(){for(var e,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))||this).id=void 0,e}return e(n,t),n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/BoosterBomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Booster.ts","./EntityTile.ts","./GFStateHit.ts"],(function(t){"use strict";var o,e,n,r,s;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.Booster},function(t){r=t.BonusType},function(t){s=t.GFStateHit}],execute:function(){e._RF.push({},"0e190tFAK5I2LlpOQ0rq0eG","BoosterBomb",void 0),t("BoosterBomb",function(t){function e(){return t.apply(this,arguments)||this}return o(e,t),e.prototype.apply=function(o,e){if(!t.prototype.apply.call(this,o))return!1;e.replace(r[r.bomb]).radius=3,o.toState(s,e)},e}(n)).ID="BoosterBomb",e._RF.pop()}}}));

System.register("chunks:///_virtual/BoosterController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BoosterBomb.ts","./BoosterShuffle.ts","./Events.ts"],(function(t){"use strict";var e,o,s,r,n;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){s=t.BoosterBomb},function(t){r=t.BoosterShuffle},function(t){n=t.Events}],execute:function(){var i;t("BoosterControllerEvent",void 0),o._RF.push({},"feb33I6w7VN+p8grGOi4/az","BoosterController",void 0),function(t){t[t.active=0]="active",t[t.activated=1]="activated",t[t.selected=2]="selected",t[t.unselected=3]="unselected"}(i||(i=t("BoosterControllerEvent",{})));t("default",new(function(t){function o(){var e;return(e=t.call(this)||this)._boosters=new Map,e._regBuster(s),e._regBuster(r),e}e(o,t);var n=o.prototype;return n._regBuster=function(t){var e=new t;e.id=t.ID,this._boosters.set(e.id,e)},n.getBooster=function(t){return this._boosters.get(t.ID)},n.has=function(t){return!!this.getBooster(t)},n.isEmpty=function(t){var e=this.getBooster(t);return!e||e.isEmpty},n.active=function(t){this.unselect();var e=this.getBooster(t);return!!e&&(!e.isEmpty&&(console.log("active booster: "+e.id),this.dispatch(i.active,e),!0))},n.select=function(t){var e=this.getBooster(t);return!!e&&(!e.isEmpty&&(console.log("select booster: "+e.id),this.dispatch(i.selected,e),!0))},n.unselect=function(){console.log("unselect booster"),this.dispatch(i.unselected)},o}(n)));o._RF.pop()}}}));

System.register("chunks:///_virtual/BoosterShuffle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Booster.ts","./GFStateShuffle.ts"],(function(t){"use strict";var e,o,u,n;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy},function(t){u=t.Booster},function(t){n=t.GFStateShuffle}],execute:function(){o._RF.push({},"b4ae8A5Pj5KKIlbwog7q49Z","BoosterShuffle",void 0),t("BoosterShuffle",function(t){function o(){return t.apply(this,arguments)||this}return e(o,t),o.prototype.apply=function(e){return!!t.prototype.apply.call(this,e)&&(e.toState(n),!0)},o}(u)).ID="BoosterShuffle",o._RF.pop()}}}));

System.register("chunks:///_virtual/BoxIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BlockIcon.ts"],(function(o){"use strict";var c,t,n,r;return{setters:[function(o){c=o.inheritsLoose},function(o){t=o.cclegacy,n=o._decorator},function(o){r=o.BlockIcon}],execute:function(){var e;t._RF.push({},"acd380myvFOuIcqttoFoUOJ","BoxIcon",void 0);var s=n.ccclass;n.property,o("BoxIcon",s("BoxIcon")(e=function(o){function t(){return o.apply(this,arguments)||this}return c(t,o),t}(r))||e);t._RF.pop()}}}));

System.register("chunks:///_virtual/BubbleIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BlockIcon.ts"],(function(c){"use strict";var n,o,t,e;return{setters:[function(c){n=c.inheritsLoose},function(c){o=c.cclegacy,t=c._decorator},function(c){e=c.BlockIcon}],execute:function(){var r;o._RF.push({},"6d76ayAB5xMdIRqGrPV+ocU","BubbleIcon",void 0);var u=t.ccclass;t.property,c("BubbleIcon",u("BubbleIcon")(r=function(c){function o(){return c.apply(this,arguments)||this}return n(o,c),o}(e))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,r,s,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,r=t.Button,s=t.Sprite,i=t.Component}],execute:function(){var u;e._RF.push({},"b7f67mMTT1DWKxnSbwHLHCR","ButtonBase",void 0);var c=o.ccclass,a=(o.property,o.requireComponent);t("ButtonBase",c("ButtonBase")(u=a(r)(u=a(s)(u=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).button=void 0,n.sprite=void 0,n}return n(e,t),e.prototype.start=function(){this.button=this.getComponent(r),this.sprite=this.getComponent(s)},e}(i))||u)||u)||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonBomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ButtonBooster.ts","./Booster.ts","./BoosterController.ts","./BoosterBomb.ts"],(function(t){"use strict";var o,e,s,n,i,r,c,l,u;return{setters:[function(t){o=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy,n=t._decorator},function(t){i=t.ButtonBooster},function(t){r=t.BoosterEvent},function(t){c=t.default,l=t.BoosterControllerEvent},function(t){u=t.BoosterBomb}],execute:function(){var h;s._RF.push({},"5d7474sX1JPc5SfJCR0QRry","ButtonBomb",void 0);var a=n.ccclass;n.property,t("ButtonBomb",a("ButtonBomb")(h=function(t){function s(){for(var o,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return(o=t.call.apply(t,[this].concat(s))||this)._selected=!1,o._normalColor=void 0,o._selectColor=void 0,o}o(s,t);var n=s.prototype;return n.initBuster=function(){return this.booster=c.getBooster(u),this.booster},n.start=function(){t.prototype.start.call(this),c.subscribe(l.selected,this.onSelected.bind(this),this),c.subscribe(l.unselected,this.onUnselected.bind(this),this),this.booster.subscribe(r.applied,this.onApplied.bind(this),this),this._normalColor=this.button.normalColor.clone(),this._selectColor=this.button.pressedColor.clone()},n.onDestroy=function(){t.prototype.onDestroy.call(this),c.unsubscribeTag(this),this.booster.unsubscribeTag(this)},n.onSelected=function(t){this.selected=t.id===this.booster.id},n.onUnselected=function(){this.selected=!1},n.onApplied=function(t){c.unselect()},n.onClick=function(){if(this._selected)c.unselect();else{if(t.prototype.onClick.call(this),c.isEmpty(u))return;c.select(u)}},e(s,[{key:"selected",get:function(){return this._selected},set:function(t){this._selected=t,this.button.normalColor=this.button.hoverColor=this._selected?this._selectColor:this._normalColor}}]),s}(i))||h);s._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonBooster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ButtonBase.ts","./Booster.ts"],(function(t){"use strict";var o,n,e,r,i,s,u,c,a;return{setters:[function(t){o=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,s=t._decorator,u=t.Label},function(t){c=t.ButtonBase},function(t){a=t.BoosterEvent}],execute:function(){var l,h,p,B,b;i._RF.push({},"f2709CFd2hBBrXmjEApN5qi","ButtonBooster",void 0);var f=s.ccclass,d=s.property;t("ButtonBooster",(l=f("ButtonBooster"),h=d(u),l((b=o((B=function(t){function o(){for(var o,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return o=t.call.apply(t,[this].concat(i))||this,e(o,"countLabel",b,r(o)),o.booster=void 0,o}n(o,t);var i=o.prototype;return i.start=function(){t.prototype.start.call(this),this.initBuster(),this.booster.subscribe(a.countChanged,this._onCountChanged.bind(this),this),this._onCountChanged(this.booster.count)},i.onDestroy=function(){this.booster.unsubscribeTag(this)},i._onCountChanged=function(t){this.countLabel.string=t.toString()},i.onClick=function(){},o}(c)).prototype,"countLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=B))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonNext.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ButtonBase.ts","./EventManager.ts"],(function(t){"use strict";var n,e,o,u,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){u=t.ButtonBase},function(t){c=t.default}],execute:function(){var r,s;e._RF.push({},"b516247s7VMzIdk2pdf8a75","ButtonNext",void 0);var i=o.ccclass;o.property,t("ButtonNext",i("ButtonNext")(((s=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.onClick=function(){c.dispatch(e.ID)},e}(u)).ID="ButtonNext",r=s))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonRetry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ButtonBase.ts","./EventManager.ts"],(function(t){"use strict";var n,e,o,u,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator},function(t){u=t.ButtonBase},function(t){r=t.default}],execute:function(){var c,s;e._RF.push({},"596a0zZpD9E6J0Ou1ubxx4O","ButtonRetry",void 0);var i=o.ccclass;o.property,t("ButtonRetry",i("ButtonRetry")(((s=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.onClick=function(){r.dispatch(e.ID)},e}(u)).ID="ButtonRetry",c=s))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonShuffle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ButtonBooster.ts","./BoosterController.ts","./BoosterShuffle.ts"],(function(t){"use strict";var o,e,n,r,u,s;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},function(t){r=t.ButtonBooster},function(t){u=t.default},function(t){s=t.BoosterShuffle}],execute:function(){var i;e._RF.push({},"ff0a3zNGn9DeLxgG7dYAEkL","ButtonShuffle",void 0);var c=n.ccclass;n.property,t("ButtonShuffle",c("ButtonShuffle")(i=function(t){function e(){return t.apply(this,arguments)||this}o(e,t);var n=e.prototype;return n.initBuster=function(){return this.booster=u.getBooster(s),this.booster},n.onClick=function(){t.prototype.onClick.call(this),u.isEmpty(s)||u.active(s)},e}(r))||i);e._RF.pop()}}}));

System.register("chunks:///_virtual/Cell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CellTiles.ts"],(function(t){"use strict";var e,r,i,l;return{setters:[function(t){e=t.inheritsLoose,r=t.createClass},function(t){i=t.cclegacy},function(t){l=t.CellTiles}],execute:function(){i._RF.push({},"2f55d0PJNFJXZGWtZR7lkEx","Cell",void 0);t("Cell",function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var l=i.prototype;return l.hit=function(){var t,e=null==(t=this.tile)?void 0:t.hit();return this.pop(),e},l.create=function(e){return this.resetGroup(),t.prototype.create.call(this,e)},l.insert=function(e){return this.resetGroup(),t.prototype.insert.call(this,e)},l.replace=function(e){return this.resetGroup(),t.prototype.replace.call(this,e)},l.fill=function(){return this.resetGroup(),t.prototype.fill.call(this)},l.pop=function(){return this.resetGroup(),t.prototype.pop.call(this)},l.clear=function(){return this.resetGroup(),t.prototype.clear.call(this)},r(i,[{key:"canHit",get:function(){return!this.isHole&&!this.isEmpty&&this.tile.isAlive}}]),i}(l));i._RF.pop()}}}));

System.register("chunks:///_virtual/CellBack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CellBackFactory.ts"],(function(t){"use strict";var e,i,s,n,l,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator,n=t.UITransform,l=t.Sprite,o=t.Component},function(t){r=t.CellBackFactory}],execute:function(){var c;i._RF.push({},"5e89aRgkxVNI7O3Fp24Qogp","CellBack",void 0);var a=s.ccclass,_=s.requireComponent;s.property,t("CellBack",a("CellBack")(c=_(n)(c=_(l)(c=function(t){function i(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this)._x=void 0,e._y=void 0,e._gameField=void 0,e}e(i,t);var s=i.prototype;return s.init=function(t,e,i){this._x=t,this._y=e,this._gameField=i;var s=this._getMapIndex(),n=r.instance.get(s);this._setBack(n)},s._getMapIndex=function(){return this._getIndex(this._gameField.getCell(this._x-1,this._y-1),this._gameField.getCell(this._x,this._y-1),this._gameField.getCell(this._x-1,this._y),this._gameField.getCell(this._x,this._y))},s._getIndex=function(t,e,i,s){return this._cellExists(t)|this._cellExists(e)<<1|this._cellExists(i)<<2|this._cellExists(s)<<3},s._cellExists=function(t){return t&&!t.isHole?1:0},s._setBack=function(t){if(t){var e=this.getComponent(l);e.spriteFrame=t.spriteFrame;var i=e.node.getPosition();e.node.setPosition(i.x+t.offset.x,i.y+t.offset.y)}},i}(o))||c)||c)||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/CellBackFactory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CellBackSprite.ts"],(function(t){"use strict";var e,n,c,i,r,a,s,o,l,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,c=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,s=t._decorator,o=t.assert,l=t.Component},function(t){u=t.CellBackSprite}],execute:function(){var p,f,y,h,k,_;a._RF.push({},"06eefZrfcpN5LfoXYhDEarM","CellBackFactory",void 0);var b=s.ccclass,C=s.property;t("CellBackFactory",(p=b("CellBackFactory"),f=C([u]),p(((_=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,c(e,"backs",k,i(e)),e._backs=new Map,e}n(e,t);var a=e.prototype;return a.onLoad=function(){o(!e._instance,"Only one instance allowed"),e._instance=this,this._init()},a._init=function(){var t=this;this.backs.forEach((function(e){return t._backs.set(e.type,e)}))},a.get=function(t){return this._backs.get(t)},r(e,null,[{key:"instance",get:function(){return o(this._instance,"CellBackFactory instance is null"),this._instance}}]),e}(l))._instance=null,k=e((h=_).prototype,"backs",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=h))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/CellBackSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var T,t,i,r,O,l,a;return{setters:[function(e){T=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){i=e.cclegacy,r=e._decorator,O=e.Enum,l=e.SpriteFrame,a=e.v2}],execute:function(){var n,o,_,c,p,u,s,L;e("CellBackType",void 0),i._RF.push({},"52b185QJ/pOcoLOfvMdGoAV","CellBackSprite",void 0);var H,B=r.ccclass,F=r.property;!function(e){e[e.HOLE=0]="HOLE",e[e.LEFT=5]="LEFT",e[e.RIGHT=10]="RIGHT",e[e.TOP=3]="TOP",e[e.BOTTOM=12]="BOTTOM",e[e.LEFT_TOP=1]="LEFT_TOP",e[e.RIGHT_TOP=2]="RIGHT_TOP",e[e.LEFT_BOTTOM=4]="LEFT_BOTTOM",e[e.RIGHT_BOTTOM=8]="RIGHT_BOTTOM",e[e.OUT_RIGHT_TOP=13]="OUT_RIGHT_TOP",e[e.OUT_LEFT_TOP=14]="OUT_LEFT_TOP",e[e.OUT_RIGHT_BOTTOM=7]="OUT_RIGHT_BOTTOM",e[e.OUT_LEFT_BOTTOM=11]="OUT_LEFT_BOTTOM",e[e.SLASH_RIGHT=6]="SLASH_RIGHT",e[e.SLASH_LEFT=9]="SLASH_LEFT",e[e.ALL=15]="ALL"}(H||(H=e("CellBackType",{})));e("CellBackSprite",(n=B("CellBackSprite"),o=F({type:O(H)}),_=F(l),n((u=T((p=function(){t(this,"type",u,this),t(this,"spriteFrame",s,this),t(this,"offset",L,this)}).prototype,"type",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=T(p.prototype,"spriteFrame",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=T(p.prototype,"offset",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a(0,0)}}),c=p))||c));i._RF.pop()}}}));

System.register("chunks:///_virtual/CellBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityCell.ts","./Events.ts"],(function(e){"use strict";var t,i,n,o,u;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){n=e.cclegacy},function(e){o=e.CellType},function(e){u=e.Events}],execute:function(){n._RF.push({},"f0d4eT1S3RBy5WLuIAPQyk3","CellBase",void 0);e("CellBase",function(e){function n(t,i,n){var u;return void 0===n&&(n=o.cell),(u=e.call(this)||this).type=void 0,u.x=void 0,u.y=void 0,u._group=void 0,u._gameField=void 0,u.x=t,u.y=i,u.type=n,u}t(n,e);var u=n.prototype;return u.setGameField=function(e){this._gameField=e},u.setGroup=function(e){this._group=e},u.resetGroup=function(){this._group=void 0},i(n,[{key:"isHole",get:function(){return this.type===o.hole}},{key:"gameField",get:function(){return this._gameField}},{key:"group",get:function(){return this._group}}]),n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/CellGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityTile.ts"],(function(e){"use strict";var t,i,n;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy},function(e){n=e.BonusType}],execute:function(){i._RF.push({},"aed79/dQMxBdZ3Fuj4e8YCm","CellGroup",void 0);e("CellGroup",function(){function e(e){this.gameField=void 0,this.cells=new Set,e.gameField&&(this.gameField=e.gameField,this._searchTiles(e))}var i=e.prototype;return i.hit=function(e){var t=[];return this.cells.forEach((function(e){e.canHit&&t.push.apply(t,e.hit())})),t},i.merge=function(e){return this._merge(e)},i._merge=function(e){var t=this._getNewTypeTile(),i=e.tile;this._removeTiles();var r=e.create(n[t]);r.typeString===n[n.disco]&&(r.color=i.type);return[r]},i._removeTiles=function(){var e=[];return this.cells.forEach((function(t){e.push(t.pop())})),e},i.isEqual=function(e,t){return!(!e||!t)&&e.typeString===t.typeString},i._getNewTypeTile=function(){return this.size>8?n.disco:this.size>6?n.bomb:this.size>4?n.rocket:void 0},i._searchTiles=function(e){var t=this;e.isHole||e.isEmpty||e.tile&&(e.group||(this._addUniq(e),e.eachNeighbor((function(i){t._checkCell(e,i)&&t._searchTiles(i)}))))},i._checkCell=function(e,t){return!t.isEmpty&&(!t.group&&this.isEqual(e.tile,t.tile))},i._addUniq=function(e){return!this.cells.has(e)&&(e.setGroup(this),this.cells.add(e),!0)},t(e,[{key:"size",get:function(){return this.cells.size}},{key:"canHit",get:function(){return this.size>1}},{key:"canMerge",get:function(){return this.size>4}},{key:"tiles",get:function(){var e=[];return this.cells.forEach((function(t){return e.push(t.tile)})),e}}]),e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/CellTiles.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CellBase.ts","./Tile.ts","./TileFactory.ts","./EntityTile.ts"],(function(t){"use strict";var e,i,s,l,n,r,h;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){s=t.cclegacy},function(t){l=t.CellBase},function(t){n=t.TileEvent},function(t){r=t.default},function(t){h=t.TileTypeToShort}],execute:function(){var c;t("CellTilesEvent",void 0),s._RF.push({},"c9528YZC3lKEoJ/Bv7vd3JF","CellTiles",void 0),function(t){t[t.insert=0]="insert",t[t.create=1]="create",t[t.replace=2]="replace",t[t.pop=3]="pop"}(c||(c=t("CellTilesEvent",{})));t("CellTiles",function(t){function s(){for(var e,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))||this)._tiles=[],e}e(s,t);var l=s.prototype;return l.create=function(t){if(!this.isHole){var e=r.create(t);return this._push(e),this.dispatch(c.create,e),e}},l.replace=function(t){if(this.clear(),!this.isHole){var e=r.create(t);return this._push(e),this.dispatch(c.replace,e),e}},l.insert=function(t){if(!this.isHole)return this._push(t),this.dispatch(c.insert,t),t},l.fill=function(){if(!this.isHole&&this.isEmpty)return this.create(r.randomType)},l.pop=function(){var t=this._tiles.pop();return this._tileReset(t),t},l.clear=function(){for(var t=[];!this.isEmpty;)t.push(this.pop());return t},l.remove=function(t){var e=this._tiles.indexOf(t);e>-1&&this._tiles.splice(e,1),this._tileReset(t)},l.onTileDestroy=function(t){this.remove(t)},l.toString=function(){return this.isHole?"_":this.isEmpty?"e":h[this.tile.typeString]},l.eachNeighbor=function(t){t&&this.gameField&&(this._callbackCell(this.gameField.getCell(this.x-1,this.y),t),this._callbackCell(this.gameField.getCell(this.x,this.y-1),t),this._callbackCell(this.gameField.getCell(this.x+1,this.y),t),this._callbackCell(this.gameField.getCell(this.x,this.y+1),t))},l._callbackCell=function(t,e){t&&e(t)},l._tileReset=function(t){t.unsubscribeTag(this),t.resetCell()},l._push=function(t){t&&(this._tiles.push(t),t.subscribe(n.destroy,this.onTileDestroy.bind(this),this),t.setGameField(this.gameField),t.setCell(this))},i(s,[{key:"isEmpty",get:function(){return 0===this._tiles.length}},{key:"tiles",get:function(){return this._tiles}},{key:"tile",get:function(){return this._tiles[this._tiles.length-1]}}]),s}(l));s._RF.pop()}}}));

System.register("chunks:///_virtual/ColorIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityTile.ts","./Icon.ts"],(function(e){"use strict";var t,i,o,n,r,l,s,a,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,s=e.Enum,a=e.ParticleSystem2D,c=e.AudioSource},function(e){u=e.ColorType},function(e){p=e.Icon}],execute:function(){var d,y,h,f,v,b,m,g,P;r._RF.push({},"bde8cjjExROXbtL/3SgvHYB","ColorIcon",void 0);var w=l.ccclass,I=l.property;e("ColorIcon",(d=w("ColorIcon"),y=I({type:s(u),override:!0}),h=I(a),f=I(c),d((m=t((b=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(t,"type",m,n(t)),o(t,"particle",g,n(t)),o(t,"sound",P,n(t)),t}i(t,e);var r=t.prototype;return r.onTileDestroy=function(){this.playParticles(),this.playSound(),e.prototype.onTileDestroy.call(this)},r.playParticles=function(){if(this.particle){this.particle.node.active=!0;var e=this.particle.node.worldPosition;this.particle.node.removeFromParent(),this.particle.node.setParent(this.gameFiledView.node),this.particle.node.worldPosition=e,this.particle.resetSystem(),this.particle=void 0}},r.playSound=function(){this.sound&&(this.sound.node.active=!0,this.sound.play(),this.sound.node.setParent(this.gameFiledView.node),this.sound=void 0)},r.onClick=function(){},t}(p)).prototype,"type",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=t(b.prototype,"particle",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(b.prototype,"sound",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=b))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/Column.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Cell.ts","./EntityCell.ts","./Events.ts","./EventManager.ts","./EntityTile.ts"],(function(e){"use strict";var t,l,n,i,o,s,c,r;return{setters:[function(e){t=e.inheritsLoose,l=e.createClass},function(e){n=e.cclegacy},function(e){i=e.Cell},function(e){o=e.CellType},function(e){s=e.Events},function(e){c=e.default},function(e){r=e.ShortToTileType}],execute:function(){var u;e("ColumnEvent",void 0),n._RF.push({},"2306cjZTKJFzIsXiu3W4ViR","Column",void 0),function(e){e.fill="ColumnFill"}(u||(u=e("ColumnEvent",{})));e("Column",function(e){function n(t,l,n){var i;return(i=e.call(this)||this).gameField=void 0,i.x=void 0,i._cells=void 0,i.gameField=t,i.x=l,i._parse(n),i.fill(),i}t(n,e);var s=n.prototype;return s.getCell=function(e){return this._cells[e]},s.eachCell=function(e){e&&this._cells.forEach((function(t,l){e(t)}))},s.fill=function(){var e=[];this._cells.forEach((function(t,l){t.fill()&&e.push(t)})),c.dispatch(u.fill,this,e)},s.drop=function(){for(var e=this._cells.length-1;e>=0;e--){var t=this._cells[e];t.isEmpty||t.tile.drop()}},s._parse=function(e){var t=this;this._cells=[],e.forEach((function(e,l){var n=t._createCell(r[e],t.x,l);t._cells.push(n)}))},s._createCell=function(e,t,l){var n;return e===o[o.hole]?n=new i(t,l,o.hole):((n=new i(t,l)).setGameField(this.gameField),n.create(e),n)},l(n,[{key:"cells",get:function(){return this._cells}},{key:"topCell",get:function(){return this._cells.find((function(e){return!e.isHole}))}}]),n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,o,i,n,s,l,r,a,g,h,c,p,C,d,m,u,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,c=t.instantiate,p=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,T=t.Component}],execute:function(){var L,f,M,b,v,x,E,S,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(L=A("internal.DebugViewRuntimeControl"),f=y(r),M=y(r),b=y(r),L((E=e((x=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",E,n(e)),i(e,"singleModeToggle",S,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct TRT","Env TRT","TRT All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","TRT","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=c(s);l.parent=this.node,l.name="Buttons";var r=c(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var T=c(this.EnableAllCompositeModeButton.getChildByName("Label"));T.setPosition(i+(u>0?450:150),n,0),T.setScale(.75,.75,.75),T.parent=r;var L=T.getComponent(p);L.string=u?"----------Composite Mode----------":"----------Single Mode----------",L.color=a.WHITE,L.overflow=0,this.labelComponentList[this.labelComponentList.length]=L}n-=20;for(var f=0,M=0;M<this.strSingle.length;M++,f++){M===this.strSingle.length>>1&&(i+=200,f=0);var b=M?c(this.singleModeToggle):this.singleModeToggle;b.setPosition(i,n-20*f,0),b.setScale(.5,.5,.5),b.parent=this.singleModeToggle.parent;var v=b.getComponentInChildren(C);v.string=this.strSingle[M],this.textComponentList[this.textComponentList.length]=v,this.textContentList[this.textContentList.length]=v.string,b.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[M]=b}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var x=this.EnableAllCompositeModeButton.getComponentInChildren(p);this.labelComponentList[this.labelComponentList.length]=x;var E=c(this.EnableAllCompositeModeButton);E.setPosition(i+90,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.changeTextColor,this),E.parent=l,(x=E.getComponentInChildren(p)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=x;var S=c(this.EnableAllCompositeModeButton);S.setPosition(i+200,n,0),S.setScale(.5,.5,.5),S.on(m.EventType.CLICK,this.hideUI,this),S.parent=this.node.parent,(x=S.getComponentInChildren(p)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=x,this.hideButtonLabel=x,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=c(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?c(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(T)).prototype,"compositeModeToggle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(x.prototype,"singleModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(x.prototype,"EnableAllCompositeModeButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=x))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/DiscoIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BonusIcon.ts","./EntityTile.ts"],(function(e){"use strict";var t,o,i,r,n,c,s,l,u,a,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,c=e._decorator,s=e.Enum,l=e.Color},function(e){u=e.BonusIcon},function(e){a=e.ColorType,p=e.BonusType}],execute:function(){var y,f,d,v,h,b;n._RF.push({},"fc8d8v5yxFHiJz8uAaX1Enk","DiscoIcon",void 0);var D=c.ccclass,I=c.property,g=((y={})[a.green]="#77be3a",y[a.purple]="#ad3b99",y[a.red]="#d73550",y[a.blue]="#1e90df",y[a.yellow]="#dd9f1a",y);e("DiscoIcon",(f=D("DiscoIcon"),d=I({type:s(p),visible:!1,override:!0}),f((b=t((h=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),c=0;c<o;c++)n[c]=arguments[c];return t=e.call.apply(e,[this].concat(n))||this,i(t,"type",b,r(t)),t.tile=void 0,t}return o(t,e),t.prototype.start=function(){this.sprite.color=new l(g[this.tile.color])},t}(u)).prototype,"type",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.disco}}),v=h))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/EntityCell.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var l;e("CellType",void 0),t._RF.push({},"2f4715hqIhGJ6VR/3oRZ9eI","EntityCell",void 0),function(e){e[e.cell=0]="cell",e[e.hole=1]="hole"}(l||(l=e("CellType",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/EntityGame.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"72394JMVI1M8aG3OwiwPRqo","EntityGame",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/EntityTile.ts",["cc","./EnumToArray.ts","./EntityCell.ts"],(function(e){"use strict";var o,l,r;return{setters:[function(e){o=e.cclegacy},function(e){l=e.default},function(e){r=e.CellType}],execute:function(){var t,n,u,c;e({BlockType:void 0,BonusType:void 0,ColorType:void 0}),o._RF.push({},"bbf4bE6Om5CbIFenwauQC0G","EntityTile",void 0),function(e){e[e.yellow=0]="yellow",e[e.red=1]="red",e[e.blue=2]="blue",e[e.green=3]="green",e[e.purple=4]="purple"}(n||(n=e("ColorType",{}))),function(e){e[e.bubble=0]="bubble",e[e.box=1]="box"}(u||(u=e("BlockType",{}))),function(e){e[e.rocket=0]="rocket",e[e.bomb=1]="bomb",e[e.disco=2]="disco"}(c||(c=e("BonusType",{})));e("COLORS",l(n)),e("BLOCKS",l(u)),e("BONUSES",l(c)),e("TileTypeToShort",((t={})[n[n.yellow]]="y",t[n[n.red]]="r",t[n[n.purple]]="p",t[n[n.blue]]="b",t[n[n.green]]="g",t[c[c.rocket]]="R",t[c[c.bomb]]="B",t[c[c.disco]]="D",t[r[r.hole]]="_",t[r[r.cell]]="e",t)),e("ShortToTileType",{y:n[n.yellow],r:n[n.red],p:n[n.purple],b:n[n.blue],g:n[n.green],R:c[c.rocket],B:c[c.bomb],D:c[c.disco],_:r[r.hole],e:r[r.cell]});o._RF.pop()}}}));

System.register("chunks:///_virtual/EnumToArray.ts",["cc"],(function(t){"use strict";var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){t("default",(function(t){return Object.keys(t).filter((function(t){return isNaN(Number(t))}))})),r._RF.push({},"86308QTM7dFh6crv/64l2Tv","EnumToArray",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["cc","./Events.ts"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.Events}],execute:function(){t._RF.push({},"67928l1PaFOPaQV7k/RGMJe","EventManager",void 0);e("default",new n);t._RF.pop()}}}));

System.register("chunks:///_virtual/Events.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"4d8e94tqsFK1I3s0b68bJ8X","Events",void 0);t("Events",function(){function t(){this._events=new Map}var n=t.prototype;return n.subscribe=function(t,n,e){if(n){var s={callback:n,tag:e},r=this._events.get(t)||[];r.push(s),this._events.set(t,r)}},n.dispatch=function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),s=1;s<n;s++)e[s-1]=arguments[s];var r=this._events.get(t);if(!r)return!1;r.forEach((function(t){return t.callback.apply(null,e)}))},n.hasEvent=function(t){return this._events.has(t)},n.unsubscribe=function(t,n){var e=this._events.get(t);if(!e)return console.warn("This event: "+t+" does not exist"),!1;e.filter((function(t){return t&&t.callback!==n}))},n.unsubscribeTag=function(t){if(!t)return console.warn("This tag: "+t+" is undefined"),!1;this._events.forEach((function(n,e){n.filter((function(n){return n&&n.tag!==t}))}))},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/FSM.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"25b14WesXBINphGcz1gee5a","FSM",void 0);t("FSM",function(){function t(){this._states=new Map,this._state=void 0,this._prevState=void 0}var n=t.prototype;return n.addState=function(t,e){void 0===e&&(e=!1);var n=new t;return n.id=t.ID,n.context=this,this._states.set(n.id,n),e&&this.toState(n.id),n},n._enterState=function(t){var e;if(t){console.log("enter state: "+t.id);for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];null==t||(e=t.onEnter).apply.apply(e,[t].concat(a))}},n._exitState=function(t){var e;if(t){console.log(" exit state: "+t.id);for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];null==t||(e=t.onExit).apply.apply(e,[t].concat(a))}},n._getState=function(t){return this._states.get(t)},n.toState=function(t){"string"!=typeof t&&(t=t.ID);var e=this._getState(t);if(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];this._exitState(this._state,a),this._prevState=this._state,this._state=e,this._enterState(this._state,a)}},e(t,[{key:"state",get:function(){return this._state}},{key:"prevState",get:function(){return this._prevState}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelsConfig.ts","./EventManager.ts","./GameFieldView.ts","./GFStateGameOver.ts","./GFStateWin.ts","./WindowManager.ts","./WindowWin.ts","./WindowGameOver.ts","./ButtonRetry.ts","./ButtonNext.ts"],(function(t){"use strict";var e,n,i,s,o,r,a,l,c,u,h,_,d,f,m,v;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,s=t._decorator,o=t.assert,r=t.Component},function(t){a=t.LevelsConfig},function(t){l=t.default},function(t){c=t.GameFieldView},function(t){u=t.GFStateGameOver},function(t){h=t.GFStateWin},function(t){_=t.WindowManager},function(t){d=t.WindowWin},function(t){f=t.WindowGameOver},function(t){m=t.ButtonRetry},function(t){v=t.ButtonNext}],execute:function(){var g,F;i._RF.push({},"66c32a7hrdFm57OqAo4Mlhi","GameController",void 0);var p=s.ccclass;s.property,t("GameController",p("GameController")(((F=function(t){function i(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this)._level=1,e._gameFieldView=void 0,e}e(i,t);var s=i.prototype;return s.onLoad=function(){i._instance=this,this._readComponents(),this._initField(this._level),this._initListeners()},s.onDestroy=function(){l.unsubscribeTag(this)},s._readComponents=function(){this._gameFieldView=this.node.getComponentInChildren(c)},s._initField=function(t){this._level=t,a.instance.has(this._level)||(this._level=1);var e=a.instance.get(this._level);this._gameFieldView.init(e)},s._initListeners=function(){l.subscribe(h.ID,this._onStateWin.bind(this),this),l.subscribe(u.ID,this._onStateGameOver.bind(this),this),l.subscribe(m.ID,this._onRetry.bind(this),this),l.subscribe(v.ID,this._onNext.bind(this),this)},s._onStateWin=function(){_.instance.open(d)},s._onStateGameOver=function(){_.instance.open(f)},s._onRetry=function(){this._initField(this._level)},s._onNext=function(){this._initField(this._level+1)},n(i,[{key:"gameFieldView",get:function(){return this._gameFieldView}},{key:"gameField",get:function(){return this._gameFieldView.gameField}}],[{key:"instance",get:function(){return o(this._instance,"GameController instance is null"),this._instance}}]),i}(r))._instance=null,g=F))||g);i._RF.pop()}}}));

System.register("chunks:///_virtual/GameFieldBack.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CellBack.ts"],(function(e){"use strict";var t,i,n,r,o,l,a,s,c,f,h,u,p,d,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.UITransform,s=e.Prefab,c=e.Size,f=e.Vec2,h=e.v2,u=e.instantiate,p=e.Component,d=e.size},function(e){m=e.CellBack}],execute:function(){var _,g,C,v,b,k,z,B;o._RF.push({},"add8cTNwU5CEZSbG/wIxejV","GameFieldBack",void 0);var F=l.ccclass,y=l.property,S=l.requireComponent;e("GameFieldBack",(_=F("GameFieldBack"),g=S(a),C=y(s),v=y(c),_(b=g((z=t((k=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"prefabCellBack",z,r(t)),n(t,"cellSize",B,r(t)),t._gameField=void 0,t._transform=void 0,t._offset=f.ZERO,t}i(t,e);var o=t.prototype;return o.init=function(e){this._gameField=e,this._transform=this.getComponent(a),this._offset=this._getOffset(),this._createBacks()},o._getOffset=function(){var e=this.getComponent(a);return h(-this._gameField.columnCount/2*this.cellSize.width,e.height-.5*this.cellSize.height)},o._createBacks=function(){this.node.removeAllChildren();for(var e=0;e<this._gameField.columnCount+1;e++)for(var t=0;t<this._gameField.rowCount+1;t++)this._createCell(e,t)},o._createCell=function(e,t){var i=u(this.prefabCellBack);i.setParent(this.node),i.setSiblingIndex(0),this._cellInitPosition(i,e,t);var n=i.getComponent(m);return n.init(e,t,this._gameField),n},o._cellInitPosition=function(e,t,i){e.setPosition(t*this.cellSize.width+this._offset.x,-i*this.cellSize.height+this._offset.y)},t}(p)).prototype,"prefabCellBack",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(k.prototype,"cellSize",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d(100,100)}}),b=k))||b)||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameFieldCells.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameFieldData.ts","./Column.ts"],(function(t){"use strict";var n,e,u,l,i;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){u=t.cclegacy},function(t){l=t.GameFieldData},function(t){i=t.Column}],execute:function(){u._RF.push({},"2f69fDud8FCt42cnc8V2R3L","GameFieldCells",void 0);t("GameFieldCells",function(t){function u(n){var e;return(e=t.call(this,n)||this)._columns=void 0,e._parse(),e}n(u,t);var l=u.prototype;return l.getCell=function(t,n){var e;return null==(e=this._columns[t])?void 0:e.getCell(n)},l.getColumn=function(t){return this._columns[t]},l.eachColumn=function(t){t&&this._columns.forEach((function(n){return t(n)}))},l.eachCell=function(t){t&&this.eachColumn((function(n){return n.eachCell(t)}))},l.hitCell=function(t,n){var e=this.getCell(t,n);return null!=e&&e.canHit?e.hit():[]},l.getMatrixIds=function(){for(var t=[],n=0;n<this.rowCount;n++){for(var e=[],u=0;u<this.columnCount;u++)e.push(this.getCell(u,n).toString());t.push(e)}return t},l._parse=function(){var t=this;this._columns=[],this.gameData.field.forEach((function(n,e){var u=t._createColumn(e,n);t._columns.push(u)}))},l._createColumn=function(t,n){return new i(this,t,n)},e(u,[{key:"columns",get:function(){return this._columns}}]),u}(l));u._RF.pop()}}}));

System.register("chunks:///_virtual/GameFieldData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs","./GameFieldFSM.ts"],(function(e){"use strict";var t,a,n,i;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy},function(e){n=e.assert},function(e){i=e.GameFieldFSM}],execute:function(){a._RF.push({},"1926fjgVLhCtpjkMSKvkmAb","GameFieldData",void 0);e("GameFieldData",function(e){function a(t){var n;return(n=e.call(this)||this).columnCount=void 0,n.rowCount=void 0,n.gameData=void 0,a.validate(t),n.gameData={},Object.assign(n.gameData,t),n.gameData.field=n.gameData.field[0].map((function(e,t){return n.gameData.field.map((function(e){return e[t]}))})),n.columnCount=n.gameData.field.length,n.rowCount=n.gameData.field[0].length,n}return t(a,e),a.validate=function(e){n(e.field.length>0,"game data rowCount are cell");var t=e.field[0].length;n(t>0,"columns are cell");var a=e.field.find((function(e){return e.length!==t}));n(!a,"rowCount length are not equal")},a}(i));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameFieldFSM.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GFStateIdle.ts","./GFStateClick.ts","./FSM.ts","./GFStateGroups.ts","./GFStateHit.ts","./GFStateMerge.ts","./GFStateDrop.ts","./GFStateSequenceHit.ts","./GFStateShuffle.ts","./GFStateGameOver.ts","./GFStateWin.ts","./GFStateCheckGame.ts","./GFStateInit.ts"],(function(t){"use strict";var e,a,i,n,S,s,c,u,o,F,G,d,f,r,h;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy},function(t){i=t.GFStateIdle},function(t){n=t.GFStateClick},function(t){S=t.FSM},function(t){s=t.GFStateGroups},function(t){c=t.GFStateHit},function(t){u=t.GFStateMerge},function(t){o=t.GFStateDrop},function(t){F=t.GFStateSequenceHit},function(t){G=t.GFStateShuffle},function(t){d=t.GFStateGameOver},function(t){f=t.GFStateWin},function(t){r=t.GFStateCheckGame},function(t){h=t.GFStateInit}],execute:function(){a._RF.push({},"763ebJUiLJHgoGpnSKRCc+7","GameFieldFSM",void 0);t("GameFieldFSM",function(t){function a(){return t.call(this)||this}e(a,t);var S=a.prototype;return S.initFsm=function(){this._initStates()},S._initStates=function(){this.addState(h),this.addState(i),this.addState(s),this.addState(n),this.addState(c),this.addState(u),this.addState(o),this.addState(G),this.addState(F),this.addState(d),this.addState(f),this.addState(r)},a}(S));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameFieldIcons.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameFieldLogic.ts","./GameFieldBack.ts","./ViewCell.ts","./EventManager.ts"],(function(e){"use strict";var t,i,l,n,o,r,s,c,a,u,h,f,d,g,m,p,_,C,b,v,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,l=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,s=e._decorator,c=e.Prefab,a=e.Node,u=e.Size,h=e.Vec2,f=e.v3,d=e.v2,g=e.UITransform,m=e.instantiate,p=e.Component,_=e.size},function(e){C=e.GameFieldLogic},function(e){b=e.GameFieldBack},function(e){v=e.ViewCell},function(e){y=e.default}],execute:function(){var F,z,S,w,P,G,I,k,N,E,x;r._RF.push({},"1893dRW7OJOaYN0GSAVRj83","GameFieldIcons",void 0);var O=s.ccclass,R=s.property;e("GameFieldIcons",(F=O("GameFieldIcons"),z=R(c),S=R(b),w=R(a),P=R(u),F((k=t((I=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,l(t,"prefabCell",k,n(t)),l(t,"background",N,n(t)),l(t,"cellsNode",E,n(t)),l(t,"cellSize",x,n(t)),t._gameField=void 0,t._offset=h.ZERO,t._cells=[],t}i(t,e);var r=t.prototype;return r.init=function(e){var t;this._gameField=new C(e),null==(t=this.background)||t.init(this._gameField),this._offset=this._getOffset(),this._createTiles()},r.onDestroy=function(){y.unsubscribeTag(this)},r.getCellPosition=function(e,t){return f(e*this.cellSize.width+this._offset.x,-t*this.cellSize.height+this._offset.y,0)},r.getColumn=function(e){return this._cells[e]},r.getCell=function(e,t){var i=this.getColumn(e);if(i)return i[t]},r.eachCell=function(e){e&&this._cells.forEach((function(t){t.forEach((function(t){e(t)}))}))},r.getStartColumnWorldCoordinate=function(e){var t=this._gameField.columns[e];if(t){var i=t.topCell;if(i){var l=this.getCell(e,i.y).node.worldPosition;return d(l.x,l.y+.5*this.cellSize.height)}}},r._getOffset=function(){var e=this.cellsNode.getComponent(g);return d(-this._gameField.columnCount/2*this.cellSize.width+.5*this.cellSize.width,e.height-this.cellSize.height)},r._clearCells=function(){this.eachCell((function(e){return e.destroy()})),this.cellsNode.removeAllChildren(),this._cells=[]},r._createTiles=function(){var e=this;this._clearCells(),this._gameField.columns.forEach((function(t){var i=[];t.cells.forEach((function(t){i.push(e._createCell(t))})),e._cells.push(i)}))},r._createCell=function(e){var t=m(this.prefabCell);t.getComponent(g);t.setParent(this.cellsNode),t.setSiblingIndex(0),this._cellInitPosition(t,e.x,e.y);var i=t.getComponent(v);return i.init(this,e),i},r._cellInitPosition=function(e,t,i){e.setPosition(this.getCellPosition(t,i))},o(t,[{key:"gameField",get:function(){return this._gameField}}]),t}(p)).prototype,"prefabCell",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(I.prototype,"background",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(I.prototype,"cellsNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(I.prototype,"cellSize",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _(100,100)}}),G=I))||G));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameFieldLogic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameFieldCells.ts","./GFStateClick.ts","./GFStateIdle.ts","./BoosterController.ts","./EventManager.ts","./GFStateHit.ts","./GFStateMerge.ts","./GFStateInit.ts"],(function(t){"use strict";var e,s,i,n,o,c,a,r,l,h,u,d;return{setters:[function(t){e=t.inheritsLoose,s=t.createClass},function(t){i=t.cclegacy},function(t){n=t.GameFieldCells},function(t){o=t.GFStateClick},function(t){c=t.GFStateIdle},function(t){a=t.default,r=t.BoosterControllerEvent},function(t){l=t.default},function(t){h=t.GFStateHit},function(t){u=t.GFStateMerge},function(t){d=t.GFStateInit}],execute:function(){var p;t("GameFieldEvent",void 0),i._RF.push({},"c8607eigYtKA6HHAcNMAA8l","GameFieldLogic",void 0),function(t){t.pointsChanged="pointsChanged",t.stepsChanged="stepsChanged"}(p||(p=t("GameFieldEvent",{})));t("GameFieldLogic",function(t){function i(e){var s;return(s=t.call(this,e)||this)._points=0,s._steps=void 0,s._selectedBooster=void 0,s.sequenceHitTiles=[],s.initFsm(),s._initListeners(),s.toState(d),s}e(i,t);var n=i.prototype;return n.click=function(t){this.state.id===c.ID&&(this._selectedBooster?this._applySelectedBooster(t):this.toState(o,t))},n._initListeners=function(){l.subscribe(h.ID,this._onStateHit.bind(this),this),l.subscribe(u.ID,this._onStateMerge.bind(this),this),a.subscribe(r.active,this._activeBooster.bind(this),this),a.subscribe(r.selected,this._onSelectBooster.bind(this),this),a.subscribe(r.unselected,this._onUnselectBooster.bind(this),this)},n._onStateHit=function(t){var e=this;t.forEach((function(t){e.points+=t.length}))},n._onStateMerge=function(t,e){this.points+=e.length},n._applySelectedBooster=function(t){this._selectedBooster&&(this._selectedBooster.apply(this,t),this._onUnselectBooster())},n._activeBooster=function(t){this.state.id===c.ID&&t.apply(this)},n._onSelectBooster=function(t){this._selectedBooster=t},n._onUnselectBooster=function(){this._selectedBooster=void 0},s(i,[{key:"points",get:function(){return this._points},set:function(t){this._points=Math.min(t,this.gameData.points),l.dispatch(p.pointsChanged,this._points,this.gameData.points)}},{key:"steps",get:function(){return this._steps},set:function(t){this._steps=t,l.dispatch(p.stepsChanged,this._steps)}}]),i}(n));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameFieldView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewCell.ts","./EventManager.ts","./GFStateHit.ts","./GFStateGroups.ts","./Icon.ts","./GFStateDrop.ts","./GFStateMerge.ts","./Column.ts","./GameFieldIcons.ts","./GFStateShuffle.ts"],(function(t){"use strict";var e,i,n,o,s,l,c,a,r,u,h,f,d,p;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,o=t.log},function(t){s=t.ViewCellEvent},function(t){l=t.default},function(t){c=t.GFStateHit},function(t){a=t.GFStateGroups},function(t){r=t.Icon},function(t){u=t.GFStateDrop},function(t){h=t.GFStateMerge},function(t){f=t.ColumnEvent},function(t){d=t.GameFieldIcons},function(t){p=t.GFStateShuffle}],execute:function(){var g;i._RF.push({},"6c4acKc5odBPpkhJqCCp6U1","GameFieldView",void 0);var _=n.ccclass;n.property,t("GameFieldView",_("GameFieldView")(g=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.onLoad=function(){this._initListeners(),this.gameField.state.next()},n.init=function(e){t.prototype.init.call(this,e),this.gameField.state.next()},n.onDestroy=function(){t.prototype.onDestroy.call(this),l.unsubscribeTag(this)},n._initListeners=function(){l.subscribe(s.click,this._onCellClick.bind(this),this),l.subscribe(f.fill,this._onColumnFill.bind(this),this),l.subscribe(a.ID,this._onStateGroups.bind(this),this),l.subscribe(c.ID,this._onStateHit.bind(this),this),l.subscribe(h.ID,this._onStateMerge.bind(this),this),l.subscribe(u.ID,this._onStateDrop.bind(this),this),l.subscribe(p.ID,this._onStateShuffle.bind(this),this)},n._onCellClick=function(t){this._gameField.click(t.cell)},n._onStateGroups=function(){this._gameField.state.next()},n._onColumnFill=function(t,e){var i=this,n=this.getStartColumnWorldCoordinate(t.x);e.forEach((function(t,o){var s=i.getCell(t.x,t.y);if(s){var l=s.icon;l&&l.node.setWorldPosition(n.x,n.y+(e.length-o)*i.cellSize.height,0)}}))},n._onStateHit=function(t){var e=this,i=[],n=0;t.forEach((function(t){t.forEach((function(t){var o=e.getCell(t.x,t.y).icon,s=new Promise((function(t){return setTimeout((function(){o.tile.destroy(),t()}),1e3*n)}));i.push(s)})),n+=.025})),o("wait hit..."),Promise.all(i).then((function(){e._gameField.state.next()}))},n._onStateMerge=function(t,e){var i=this,n=[],s=this.getCell(t.x,t.y);e.forEach((function(t){var e=i.getCell(t.x,t.y).icon;n.push(e.flyTo(s.node))})),o("wait merging..."),Promise.all(n).then((function(){i._gameField.state.next()}))},n._onStateDrop=function(){var t=this,e=[];this._cells.forEach((function(i){for(var n=0,o=i.length-1;o>=0;o--){var s=i[o];s.cell.isHole?n+=t.cellSize.height/r.DROP_SPEED:e.push(s.drop(n)),n+=r.DROP_DELAY}})),o("wait dropping..."),Promise.all(e).then((function(){t._gameField.state.next()}))},n._onStateShuffle=function(){var t=this,e=[];this._cells.forEach((function(t){for(var i=t.length-1;i>=0;i--){var n=t[i].icon;n&&e.push(n.flyToHome())}})),o("wait shuffle..."),Promise.all(e).then((function(){t._gameField.state.next()}))},i}(d))||g);i._RF.pop()}}}));

System.register("chunks:///_virtual/GameLauncher.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,t,s,c,r,a,i;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){s=e.cclegacy,c=e._decorator,r=e.director,a=e.assert,i=e.Component}],execute:function(){var o,u;s._RF.push({},"7e0da2l/QtG4qfrpYTp37dw","GameLauncher",void 0);var l=c.ccclass;c.property,e("GameLauncher",l("GameLauncher")(((u=function(e){function s(){return e.apply(this,arguments)||this}return n(s,e),s.prototype.onLoad=function(){r.addPersistRootNode(this.node),a(!s._instance,"Only one instance allowed"),s._instance=this},t(s,null,[{key:"instance",get:function(){return a(this._instance,"GameLauncher instance is null"),this._instance}}]),s}(i))._instance=null,o=u))||o);s._RF.pop()}}}));

System.register("chunks:///_virtual/GFState.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StateBase.ts"],(function(t){"use strict";var e,n,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){c=t.StateBase}],execute:function(){n._RF.push({},"5686bRqPXBEp6DazbNek5T9","GFState",void 0);t("GFState",function(t){function n(){for(var e,n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))||this).context=void 0,e}return e(n,t),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/GFStateCheckGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GFState.ts","./GFStateGroups.ts","./GFStateWin.ts","./GFStateGameOver.ts"],(function(t){"use strict";var e,n,o,i,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.GFState},function(t){i=t.GFStateGroups},function(t){a=t.GFStateWin},function(t){c=t.GFStateGameOver}],execute:function(){n._RF.push({},"c1e0daufMpNFLsOIBxbZaMb","GFStateCheckGame",void 0),t("GFStateCheckGame",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.onEnter=function(){this.context.points>=this.context.gameData.points?this.context.toState(a):this.context.steps>0?this.context.toState(i):this.context.toState(c)},o.next=function(){},o.onExit=function(){},n}(o)).ID="GFStateCheckGame",n._RF.pop()}}}));

System.register("chunks:///_virtual/GFStateClick.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GFState.ts","./GFStateIdle.ts","./GFStateHit.ts","./GFStateMerge.ts"],(function(t){"use strict";var e,n,i,o,c,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.GFState},function(t){o=t.GFStateIdle},function(t){c=t.GFStateHit},function(t){s=t.GFStateMerge}],execute:function(){n._RF.push({},"0ac4emkS65O6b3QrwoximFT","GFStateClick",void 0),t("GFStateClick",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var i=n.prototype;return i.onEnter=function(t){t.canHit&&t.group?t.group.canMerge?(this.context.steps--,this.context.toState(s,t)):t.group.canHit?(this.context.steps--,this.context.toState(c,t)):this.context.toState(o):this.context.toState(o)},i.next=function(t){},i.onExit=function(){},n}(i)).ID="GFStateClick",n._RF.pop()}}}));

System.register("chunks:///_virtual/GFStateDrop.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GFState.ts","./EventManager.ts","./GFStateSequenceHit.ts"],(function(t){"use strict";var n,e,o,i,u;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.GFState},function(t){i=t.default},function(t){u=t.GFStateSequenceHit}],execute:function(){e._RF.push({},"8e7b7yzauVNsoesGDRQCP+6","GFStateDrop",void 0),t("GFStateDrop",function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onEnter=function(){this.context.eachColumn((function(t){return t.drop()})),this.context.eachColumn((function(t){return t.fill()})),i.dispatch(this.id)},o.next=function(){this.context.toState(u)},o.onExit=function(){},e}(o)).ID="GFStateDrop",e._RF.pop()}}}));

System.register("chunks:///_virtual/GFStateGameOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GFState.ts","./EventManager.ts"],(function(t){"use strict";var e,n,i,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.GFState},function(t){r=t.default}],execute:function(){n._RF.push({},"65654j0nAFDbJSYeBBCKrF/","GFStateGameOver",void 0),t("GFStateGameOver",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var i=n.prototype;return i.onEnter=function(){r.dispatch(this.id)},i.next=function(){},i.onExit=function(){},n}(i)).ID="GFStateGameOver",n._RF.pop()}}}));

System.register("chunks:///_virtual/GFStateGroups.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GFState.ts","./GFStateIdle.ts","./EventManager.ts","./GFStateShuffle.ts","./GFStateGameOver.ts","./Group.ts"],(function(t){"use strict";var e,n,o,s,r,u,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.GFState},function(t){s=t.GFStateIdle},function(t){r=t.default},function(t){u=t.GFStateShuffle},function(t){c=t.GFStateGameOver},function(t){i=t.Group}],execute:function(){n._RF.push({},"42fedMYJu5BCaqXZfg57a1O","GFStateGroups",void 0),t("GFStateGroups",function(t){function n(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this)._groups=void 0,e}e(n,t);var o=n.prototype;return o.onEnter=function(){this._searchGroups(),r.dispatch(this.id)},o.next=function(){this._groups.length>0?this.context.toState(s):this.context.prevState.id!==u.ID?this.context.toState(u):this.context.toState(c)},o.onExit=function(){},o._searchGroups=function(){var t=this;this._clearGroups(),this.context.eachCell((function(e){var n=i.create(e);n&&(t._groups.push(n),console.log(n))}))},o._clearGroups=function(){this.context.eachCell((function(t){t.resetGroup()})),this._groups=[]},n}(o)).ID="GFStateGroups",n._RF.pop()}}}));

System.register("chunks:///_virtual/GFStateHit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GFState.ts","./EventManager.ts","./GFStateDrop.ts"],(function(t){"use strict";var i,e,n,o,s;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.GFState},function(t){o=t.default},function(t){s=t.GFStateDrop}],execute:function(){e._RF.push({},"194608/7lZBIZIEu725PQeO","GFStateHit",void 0),t("GFStateHit",function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this)._hitTiles=[],i}i(e,t);var n=e.prototype;return n.onEnter=function(t){t.group?this._hitTiles=t.group.hit(t):t.canHit&&(this._hitTiles=t.hit()),o.dispatch(this.id,this._hitTiles)},n.next=function(t){this.context.toState(s.ID)},n.onExit=function(){},e}(n)).ID="GFStateHit",e._RF.pop()}}}));

System.register("chunks:///_virtual/GFStateIdle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GFState.ts"],(function(t){"use strict";var e,n,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){o=t.GFState}],execute:function(){n._RF.push({},"9f362zzQVZOn4Msx8WFH2Tg","GFStateIdle",void 0),t("GFStateIdle",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.onEnter=function(){},o.next=function(){},o.onExit=function(){},n}(o)).ID="GFStateIdle",n._RF.pop()}}}));

System.register("chunks:///_virtual/GFStateInit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GFState.ts","./EventManager.ts","./GFStateGroups.ts"],(function(t){"use strict";var n,e,i,o,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.GFState},function(t){o=t.default},function(t){s=t.GFStateGroups}],execute:function(){e._RF.push({},"cd3e4XhO+lMtYLW6K7u6jN+","GFStateInit",void 0),t("GFStateInit",function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.onEnter=function(){this._initGoals(),o.dispatch(this.id)},i.next=function(){this.context.toState(s)},i.onExit=function(){},i._initGoals=function(){this.context.steps=this.context.gameData.steps,this.context.points=0},e}(i)).ID="GFStateInit",e._RF.pop()}}}));

System.register("chunks:///_virtual/GFStateMerge.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GFState.ts","./EventManager.ts","./GFStateDrop.ts","./BonusGroup.ts","./GFStateSequenceHit.ts"],(function(t){"use strict";var e,n,i,s,o,u,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.GFState},function(t){s=t.default},function(t){o=t.GFStateDrop},function(t){u=t.BonusGroup},function(t){c=t.GFStateSequenceHit}],execute:function(){n._RF.push({},"eea13O9JN9J36FrP6LODVEd","GFStateMerge",void 0),t("GFStateMerge",function(t){function n(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this)._cell=void 0,e._tiles=[],e._newTiles=[],e._isBonusGroup=!1,e}e(n,t);var i=n.prototype;return i.onEnter=function(t){this._cell=t,this._tiles=t.group.tiles,this._isBonusGroup=this._cell.group instanceof u,s.dispatch(this.id,this._cell,this._tiles)},i.next=function(){this._newTiles=this._cell.group.merge(this._cell),this._tiles.forEach((function(t){t.destroy()})),this._isBonusGroup?(this.context.sequenceHitTiles=this._newTiles,this.context.toState(c)):this.context.toState(o)},i.onExit=function(){},n}(i)).ID="GFStateMerge",n._RF.pop()}}}));

System.register("chunks:///_virtual/GFStateSequenceHit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GFState.ts","./GFStateHit.ts","./GFStateCheckGame.ts"],(function(t){"use strict";var e,n,i,c,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.GFState},function(t){c=t.GFStateHit},function(t){o=t.GFStateCheckGame}],execute:function(){n._RF.push({},"fc004OCWQNLaKrss09ev4KB","GFStateSequenceHit",void 0),t("GFStateSequenceHit",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var i=n.prototype;return i.onEnter=function(){for(;this.context.sequenceHitTiles.length>0;){var t=this.context.sequenceHitTiles.pop();if(t&&t.isAlive)return void this.context.toState(c,t.cell)}this.context.toState(o)},i.next=function(){},i.onExit=function(){},n}(i)).ID="GFStateSequenceHit",n._RF.pop()}}}));

System.register("chunks:///_virtual/GFStateShuffle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GFState.ts","./EventManager.ts","./GFStateGroups.ts"],(function(t){"use strict";var n,e,o,u,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.GFState},function(t){u=t.default},function(t){i=t.GFStateGroups}],execute:function(){e._RF.push({},"21f90SdHkFCNLj/cCYXDR1L","GFStateShuffle",void 0),t("GFStateShuffle",function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.onEnter=function(){var t=[],n=[];this.context.eachCell((function(e){var o=e.tile;o&&(o.isColor||o.isBonus)&&(n.push(e),t.push(o))})),t.sort((function(){return Math.random()-.5})),n.forEach((function(n,e){var o=t.pop();null==o||o.rebind(n)})),u.dispatch(this.id)},o.next=function(){this.context.toState(i)},o.onExit=function(){},e}(o)).ID="GFStateShuffle",e._RF.pop()}}}));

System.register("chunks:///_virtual/GFStateWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GFState.ts","./EventManager.ts"],(function(t){"use strict";var n,e,i,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.GFState},function(t){o=t.default}],execute:function(){e._RF.push({},"d9dc0zXa21ESZZrKTyGn1+r","GFStateWin",void 0),t("GFStateWin",function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.onEnter=function(){o.dispatch(this.id)},i.next=function(){},i.onExit=function(){},e}(i)).ID="GFStateWin",e._RF.pop()}}}));

System.register("chunks:///_virtual/Group.ts",["cc","./EntityTile.ts","./CellGroup.ts","./BonusGroup.ts"],(function(t){"use strict";var n,e,u,i,o;return{setters:[function(t){n=t.cclegacy},function(t){e=t.BonusType,u=t.ColorType},function(t){i=t.CellGroup},function(t){o=t.BonusGroup}],execute:function(){n._RF.push({},"89df0J7sh1Hub6mL/cLUpx+","Group",void 0);t("Group",function(){function t(){}return t.create=function(t){var n;if(!t.isHole&&!t.isEmpty)return t.tile.typeString in e?n=new o(t):t.tile.typeString in u&&(n=new i(t)),n&&n.size>1?n:void 0},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Icon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tile.ts","./IconBase.ts"],(function(t){"use strict";var n,e,o,i,r,s,c,a,u,p,l,h;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){i=t.cclegacy,r=t._decorator,s=t.Sprite,c=t.Color,a=t.tween,u=t.Vec3,p=t.UITransform},function(t){l=t.TileEvent},function(t){h=t.IconBase}],execute:function(){var f,d;i._RF.push({},"e8395eqa9RPg5ZPBlGOc+/4","Icon",void 0);var v=r.ccclass,b=(r.property,r.requireComponent);t("Icon",v("Icon")(f=b(s)(((d=function(t){function i(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).gameFiledView=void 0,n.sprite=void 0,n}n(i,t);var r=i.prototype;return r.onLoad=function(){this.sprite=this.getComponent(s),this.tile.subscribe(l.hit,this.onTileHit.bind(this),this),this.tile.subscribe(l.destroy,this.onTileDestroy.bind(this),this),this.tile.subscribe(l.changeCell,this.onTileChangeCell.bind(this),this)},r.onDestroy=function(){this.tile.unsubscribeTag(this)},r.alpha=function(t){if(this.sprite){var n=this.sprite.color;this.sprite.color=new c(n.r,n.g,n.b,255*t)}},r.onTileHit=function(){},r.onTileDestroy=function(){this.node.removeFromParent()},r.onTileChangeCell=function(t,n,e){var o=this.gameFiledView.getCell(e.x,e.y);if(o){var i=this.node.getWorldPosition();this.node.setParent(o.node),this.node.worldPosition=i}},r.drop=function(){var t=e(o().mark((function t(n){var e,r=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=0),0!==this.node.position.y){t.next=3;break}return t.abrupt("return",this);case 3:if(!((e=this.node.position.y/i.DROP_SPEED)<=0)){t.next=7;break}return this.node.position=u.ZERO,t.abrupt("return",this);case 7:return t.abrupt("return",new Promise((function(t){a(r.node).delay(n).to(e,{position:u.ZERO},{easing:"sineIn",onComplete:function(n){r.node.position=u.ZERO,t(r)}}).start()})));case 8:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),r.flyTo=function(){var t=e(o().mark((function t(n,e){var i,r,s,c,l=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=0),i=n.getComponent(p),r=i.convertToWorldSpaceAR(u.ZERO),s=this.node.getComponent(p),c=s.convertToNodeSpaceAR(r),.25,t.abrupt("return",new Promise((function(t){a(l.node).delay(e).to(.25,{position:c},{easing:"backIn",onComplete:function(n){l.node.position=c,t(l)}}).start()})));case 7:case"end":return t.stop()}}),t,this)})));return function(n,e){return t.apply(this,arguments)}}(),r.flyToHome=function(){var t=e(o().mark((function t(n){var e,i=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=0),e=u.ZERO,.8,t.abrupt("return",new Promise((function(t){a(i.node).delay(n).to(.8,{position:e},{easing:"backInOut",onComplete:function(n){i.node.position=e,t(i)}}).start()})));case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),r.onClick=function(){},i}(h)).DROP_SPEED=1300,d.DROP_DELAY=.015,f=d))||f)||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/IconBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,o,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.Component}],execute:function(){var c;n._RF.push({},"2d67011t1NDhJxP62+7p904","IconBase",void 0);var s=o.ccclass;o.property,t("IconBase",s("IconBase")(c=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).tile=void 0,e}return e(n,t),n.prototype.start=function(){},n}(r))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/IconFactory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PrefabColorTile.ts","./PrefabBonusTile.ts","./PrefabBlockTile.ts","./EntityTile.ts","./Icon.ts"],(function(e){"use strict";var t,n,i,r,o,s,a,c,l,u,f,b,p,y,h,T,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,a=e._decorator,c=e.assert,l=e.instantiate,u=e.Component},function(e){f=e.PrefabColorTile},function(e){b=e.PrefabBonusTile},function(e){p=e.PrefabBlockTile},function(e){y=e.ColorType,h=e.BonusType,T=e.BlockType},function(e){_=e.Icon}],execute:function(){var g,P,v,d,k,F,I,m,B,w;s._RF.push({},"bead3xX9/RNrJDGmilFYjha","IconFactory",void 0);var C=a.ccclass,z=a.property;e("IconFactory",(g=C("IconFactory"),P=z(f),v=z(b),d=z(p),g(((w=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"colorTiles",I,r(t)),i(t,"bonusTiles",m,r(t)),i(t,"blockTiles",B,r(t)),t._tiles=new Map,t}n(t,e);var s=t.prototype;return s.onLoad=function(){c(!t._instance,"Only one instance allowed"),t._instance=this,this._init()},s._init=function(){this._regPrefabs(this.colorTiles,y),this._regPrefabs(this.bonusTiles,h),this._regPrefabs(this.blockTiles,T)},s._regPrefabs=function(e,t){var n=this;e.forEach((function(e){return n._tiles.set(t[e.type],e)}))},s.create=function(e){if(e){var t=this._createPrefab(e.typeString);if(t){var n=t.getComponent(_);return n.tile=e,n}}},s._createPrefab=function(e){var t=this._tiles.get(e);return l(t.prefab)},o(t,null,[{key:"instance",get:function(){return c(this._instance,"IconFactory instance is null"),this._instance}}]),t}(u))._instance=null,I=t((F=w).prototype,"colorTiles",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=t(F.prototype,"bonusTiles",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),B=t(F.prototype,"blockTiles",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=F))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/LabelEvent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(t){"use strict";var e,n,r,i,s,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator,i=t.Label,s=t.Component},function(t){o=t.default}],execute:function(){var a;n._RF.push({},"eb9e8VOeEZL5LFhj9FVH0JT","LabelEvent",void 0);var u=r.ccclass,l=(r.property,r.requireComponent);t("LabelEvent",u("LabelEvent")(a=l(i)(a=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).label=void 0,e}e(n,t);var r=n.prototype;return r.start=function(){this.label=this.getComponent(i),o.subscribe(this.event,this.setValue.bind(this),this),this.initStartValue()},r.onDestroy=function(){o.unsubscribeTag(this)},r.getValueString=function(t){return t.toString()},r.setValue=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.label.string=this.getValueString(t,n)},n}(s))||a)||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/LabelPoints.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LabelEvent.ts","./GameFieldLogic.ts","./GameController.ts"],(function(t){"use strict";var e,n,i,o,a,r,s;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy,o=t._decorator},function(t){a=t.LabelEvent},function(t){r=t.GameFieldEvent},function(t){s=t.GameController}],execute:function(){var c;i._RF.push({},"bcde9JKBqBKoYd6xIX8qgtk","LabelPoints",void 0);var l=o.ccclass;o.property,t("LabelPoints",l("LabelPoints")(c=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var o=i.prototype;return o.initStartValue=function(){this.setValue(s.instance.gameField.points,s.instance.gameField.gameData.points)},o.getValueString=function(t,e){return t+" / "+e},n(i,[{key:"event",get:function(){return r.pointsChanged}}]),i}(a))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/LabelSteps.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LabelEvent.ts","./GameFieldLogic.ts","./GameController.ts"],(function(e){"use strict";var t,n,s,r,i,o,a;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){s=e.cclegacy,r=e._decorator},function(e){i=e.LabelEvent},function(e){o=e.GameFieldEvent},function(e){a=e.GameController}],execute:function(){var c;s._RF.push({},"17e6fbnsTdNPJ747nPXcbPG","LabelSteps",void 0);var l=r.ccclass;r.property,e("LabelSteps",l("LabelSteps")(c=function(e){function s(){return e.apply(this,arguments)||this}return t(s,e),s.prototype.initStartValue=function(){this.setValue(a.instance.gameField.steps)},n(s,[{key:"event",get:function(){return o.stepsChanged}}]),s}(i))||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/LevelsConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var e,t,i,s,r,o,c,a,l,u;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,s=n.assertThisInitialized,r=n.createClass},function(n){o=n.cclegacy,c=n._decorator,a=n.JsonAsset,l=n.assert,u=n.Component}],execute:function(){var f,p,g,v,h,y;o._RF.push({},"78164BwiZJHbIdCx1wF1HST","LevelsConfig",void 0);var d=c.ccclass,_=c.property;n("LevelsConfig",(f=d("LevelsConfig"),p=_({type:[a]}),f(((y=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r))||this,i(e,"configs",h,s(e)),e}t(e,n);var o=e.prototype;return o.onLoad=function(){l(!e._instance,"Only one instance allowed"),e._instance=this},o.has=function(n){return!!this.configs[n-1]},o.get=function(n){var e=this.configs[n-1];return l(e,"level config is undefined"),e.json},r(e,null,[{key:"instance",get:function(){return l(this._instance,"LevelsConfig instance is null"),this._instance}}]),e}(u))._instance=null,h=e((v=y).prototype,"configs",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=v))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./EventManager.ts","./Events.ts","./TileFactory.ts","./Booster.ts","./BoosterBase.ts","./BoosterBomb.ts","./BoosterController.ts","./BoosterShuffle.ts","./Cell.ts","./CellBase.ts","./CellTiles.ts","./EntityCell.ts","./EntityGame.ts","./EntityTile.ts","./Column.ts","./GameFieldCells.ts","./GameFieldData.ts","./GameFieldFSM.ts","./GameFieldLogic.ts","./GFState.ts","./GFStateCheckGame.ts","./GFStateClick.ts","./GFStateDrop.ts","./GFStateGameOver.ts","./GFStateGroups.ts","./GFStateHit.ts","./GFStateIdle.ts","./GFStateInit.ts","./GFStateMerge.ts","./GFStateSequenceHit.ts","./GFStateShuffle.ts","./GFStateWin.ts","./FSM.ts","./StateBase.ts","./BonusGroup.ts","./CellGroup.ts","./Group.ts","./Tile.ts","./TileBase.ts","./TileColor.ts","./TileBlock.ts","./TileBox.ts","./TileBubble.ts","./TileBomb.ts","./TileBonus.ts","./TileDisco.ts","./TileRocket.ts","./EnumToArray.ts","./GameLauncher.ts","./LevelsConfig.ts","./CellBack.ts","./CellBackFactory.ts","./CellBackSprite.ts","./ViewCell.ts","./RenderNode.ts","./WidgetFit.ts","./GameController.ts","./GameFieldBack.ts","./GameFieldIcons.ts","./GameFieldView.ts","./ColorIcon.ts","./Icon.ts","./IconBase.ts","./BlockIcon.ts","./BoxIcon.ts","./BubbleIcon.ts","./BombIcon.ts","./BonusIcon.ts","./DiscoIcon.ts","./RocketIcon.ts","./IconFactory.ts","./PrefabBlockTile.ts","./PrefabBonusTile.ts","./PrefabColorTile.ts","./PrefabTile.ts","./ButtonBase.ts","./ButtonBomb.ts","./ButtonBooster.ts","./ButtonNext.ts","./ButtonRetry.ts","./ButtonShuffle.ts","./LabelEvent.ts","./LabelPoints.ts","./LabelSteps.ts","./WindowBase.ts","./WindowGameOver.ts","./WindowManager.ts","./WindowWin.ts","./debug-view-runtime-control.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PrefabBlockTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PrefabTile.ts","./EntityTile.ts"],(function(e){"use strict";var r,t,i,n,l,o,c,a,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,c=e.Enum},function(e){a=e.PrefabTile},function(e){s=e.BlockType}],execute:function(){var u,p,f,y,b;l._RF.push({},"09172M4PjRNvaHB9SsxBT/N","PrefabBlockTile",void 0);var T=o.ccclass,P=o.property;e("PrefabBlockTile",(u=T("PrefabBlockTile"),p=P({type:c(s),override:!0}),u((b=r((y=function(e){function r(){for(var r,t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return r=e.call.apply(e,[this].concat(l))||this,i(r,"type",b,n(r)),r}return t(r,e),r}(a)).prototype,"type",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/PrefabBonusTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PrefabTile.ts","./EntityTile.ts"],(function(e){"use strict";var r,t,i,n,o,a,l,s,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Enum},function(e){s=e.PrefabTile},function(e){u=e.BonusType}],execute:function(){var c,f,p,y,b;o._RF.push({},"6fd21dKkHhK87thfnR3Q8Li","PrefabBonusTile",void 0);var h=a.ccclass,T=a.property;e("PrefabBonusTile",(c=h("PrefabBonusTile"),f=T({type:l(u),override:!0}),c((b=r((y=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,i(r,"type",b,n(r)),r}return t(r,e),r}(s)).prototype,"type",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=y))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/PrefabColorTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PrefabTile.ts","./EntityTile.ts"],(function(e){"use strict";var r,t,i,o,n,l,a,c,s;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,a=e.Enum},function(e){c=e.PrefabTile},function(e){s=e.ColorType}],execute:function(){var u,p,f,y,b;n._RF.push({},"45a47kiczJCoZQrlnR9/Lhg","PrefabColorTile",void 0);var T=l.ccclass,h=l.property;e("PrefabColorTile",(u=T("PrefabColorTile"),p=h({type:a(s),override:!0}),u((b=r((y=function(e){function r(){for(var r,t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return r=e.call.apply(e,[this].concat(n))||this,i(r,"type",b,o(r)),r}return t(r,e),r}(c)).prototype,"type",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/PrefabTile.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,i,t,a,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){t=e.cclegacy,a=e._decorator,l=e.Prefab}],execute:function(){var n,c,o,p,u,s;t._RF.push({},"cefd3nOehRJpIv65bczLegR","PrefabTile",void 0);var f=a.ccclass,b=a.property;e("PrefabTile",(n=f("PrefabTile"),c=b(l),n((u=r((p=function(){i(this,"type",u,this),i(this,"prefab",s,this)}).prototype,"type",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=r(p.prototype,"prefab",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=p))||o));t._RF.pop()}}}));

System.register("chunks:///_virtual/RenderNode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,o,i,s,a,c,p,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,a=e.UITransform,c=e.Sprite,p=e.Node,l=e.Component}],execute:function(){var u,d,f,h,g,m,v;i._RF.push({},"53c3aP14gVIt6rdTvXP7Gp8","RenderNode",void 0);var y=s.ccclass,_=s.property,R=s.requireComponent;e("RenderNode",(u=y("RenderNode"),d=R(a),f=R(c),h=_(p),u(g=d(g=f((v=t((m=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,n(t,"target",v,o(t)),t._sprite=void 0,t._transform=void 0,t}return r(t,e),t.prototype.start=function(){this._sprite=this.getComponent(c),this._transform=this.node.getComponent(a)},t}(l)).prototype,"target",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=m))||g)||g)||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/RocketIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BonusIcon.ts","./EntityTile.ts","./TileRocket.ts"],(function(t){"use strict";var e,i,n,o,r,c,s,u,l,a,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,s=t.Enum,u=t.Sprite,l=t.Quat},function(t){a=t.BonusIcon},function(t){p=t.BonusType},function(t){f=t.RocketDirection}],execute:function(){var y,h,d,v,k;r._RF.push({},"696a3lhnwlHoJDkO1KOtZps","RocketIcon",void 0);var I=c.ccclass,R=c.property;t("RocketIcon",(y=I("RocketIcon"),h=R({type:s(p),visible:!1,override:!0}),y((k=e((v=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return e=t.call.apply(t,[this].concat(r))||this,n(e,"type",k,o(e)),e.tile=void 0,e}return i(e,t),e.prototype.start=function(){this.sprite=this.getComponentInChildren(u),this.tile.direction===f.vertical&&this.sprite.node.rotate(l.fromEuler(new l,0,0,90))},e}(a)).prototype,"type",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.rocket}}),d=v))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/StateBase.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"582cbzUBwJP8YzMJoXJuSLt","StateBase",void 0);t("StateBase",(function(){this.id=void 0,this.context=void 0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/Tile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileBase.ts"],(function(t){"use strict";var e,i,s,n;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){s=t.cclegacy},function(t){n=t.TileBase}],execute:function(){var l;t("TileEvent",void 0),s._RF.push({},"80fe7JbOVRGypYubfdarPOA","Tile",void 0),function(t){t[t.hit=0]="hit",t[t.destroy=1]="destroy",t[t.resetCell=2]="resetCell",t[t.setCell=3]="setCell",t[t.changeCell=4]="changeCell"}(l||(l=t("TileEvent",{})));t("Tile",function(t){function s(e){var i;return(i=t.call(this,e)||this).hp=1,i}e(s,t);var n=s.prototype;return n.hit=function(){return this.hp--,this.dispatch(l.hit,this),[[this]]},n.destroy=function(){this.hp=0,this.dispatch(l.destroy,this),this.resetCell()},n.drop=function(){for(var t,e=this.gameField.getColumn(this.x),i=this.y+1;i<e.cells.length;i++){var s=e.cells[i];if(!s.isHole){if(!s.isEmpty)break;t=s}}t&&this.rebind(t)},n.rebind=function(t){var e=this.cell;e.remove(this),t.insert(this),this.dispatch(l.changeCell,this,e,t)},s.tilesHitMerge=function(t,e){t.forEach((function(t,i){var s,n=e[i];n||(n=[],e.push(n)),(s=n).push.apply(s,t)}))},i(s,[{key:"isAlive",get:function(){return this.hp>0}}]),s}(n));s._RF.pop()}}}));

System.register("chunks:///_virtual/TileBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityTile.ts","./Events.ts","./Tile.ts"],(function(t){"use strict";var e,i,n,s,l,o,c;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){s=t.BonusType,l=t.ColorType},function(t){o=t.Events},function(t){c=t.TileEvent}],execute:function(){n._RF.push({},"d4ed1LDbj5PWptEnFQRnucV","TileBase",void 0);t("TileBase",function(t){function n(e){var i;return(i=t.call(this)||this).type=void 0,i._x=void 0,i._y=void 0,i._cell=void 0,i._gameField=void 0,i.type=e,i}e(n,t);var o=n.prototype;return o.setGameField=function(t){this._gameField=t},o.setCell=function(t){this._cell=t,this._x=this._cell.x,this._y=this._cell.y,this.dispatch(c.setCell,this)},o.resetCell=function(){this._cell=void 0},i(n,[{key:"typeString",get:function(){}},{key:"isBonus",get:function(){return this.typeString in s}},{key:"isColor",get:function(){return this.typeString in l}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"cell",get:function(){return this._cell}},{key:"gameField",get:function(){return this._gameField}}]),n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/TileBlock.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityTile.ts","./Tile.ts"],(function(t){"use strict";var e,i,n,c,l;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){c=t.BlockType},function(t){l=t.Tile}],execute:function(){n._RF.push({},"e3c9dXUAexEr6aTg8SyVK7K","TileBlock",void 0);t("TileBlock",function(t){function n(e){return t.call(this,e)||this}return e(n,t),i(n,[{key:"typeString",get:function(){return c[this.type]}}]),n}(l));n._RF.pop()}}}));

System.register("chunks:///_virtual/TileBomb.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityTile.ts","./TileBonus.ts","./Tile.ts"],(function(i){"use strict";var t,e,s,l,r;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy},function(i){s=i.BonusType},function(i){l=i.TileBonus},function(i){r=i.Tile}],execute:function(){e._RF.push({},"380f1Dld8BARLWK0HFA/Gmm","TileBomb",void 0);i("TileBomb",function(i){function e(){var t;return(t=i.call(this,s.bomb)||this).radius=1,t}t(e,i);var l=e.prototype;return l.hit=function(){for(var t=i.prototype.hit.call(this),e=1;e<=this.radius;e++){var s=this._hitRadius(e);t.push.apply(t,s)}return t},l._hitRadius=function(i){void 0===i&&(i=1);for(var t=[],e=this.x-i,s=this.x+i,l=this.y-i,n=this.y+i,o=e;o<=s;o++)r.tilesHitMerge(this.gameField.hitCell(o,l),t),r.tilesHitMerge(this.gameField.hitCell(o,n),t);for(var u=l+1;u<=n-1;u++)r.tilesHitMerge(this.gameField.hitCell(e,u),t),r.tilesHitMerge(this.gameField.hitCell(s,u),t);return t},e}(l));e._RF.pop()}}}));

System.register("chunks:///_virtual/TileBonus.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityTile.ts","./Tile.ts"],(function(t){"use strict";var e,n,i,u,s;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){i=t.cclegacy},function(t){u=t.BonusType},function(t){s=t.Tile}],execute:function(){i._RF.push({},"39783O7/ZVKeLqnKiuEHhne","TileBonus",void 0);t("TileBonus",function(t){function i(e){return t.call(this,e)||this}return e(i,t),n(i,[{key:"typeString",get:function(){return u[this.type]}}]),i}(s));i._RF.pop()}}}));

System.register("chunks:///_virtual/TileBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityTile.ts","./TileBlock.ts"],(function(t){"use strict";var e,i,n,c;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){n=t.BlockType},function(t){c=t.TileBlock}],execute:function(){i._RF.push({},"2a9c129CppLS78MafcwSx23","TileBox",void 0);t("TileBox",function(t){function i(){return t.call(this,n.box)||this}return e(i,t),i}(c));i._RF.pop()}}}));

System.register("chunks:///_virtual/TileBubble.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityTile.ts","./TileBlock.ts"],(function(e){"use strict";var t,i,n,u;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy},function(e){n=e.BlockType},function(e){u=e.TileBlock}],execute:function(){i._RF.push({},"e97c3LveuVJnKI48NYq+XQu","TileBubble",void 0);e("TileBubble",function(e){function i(){return e.call(this,n.bubble)||this}return t(i,e),i}(u));i._RF.pop()}}}));

System.register("chunks:///_virtual/TileColor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityTile.ts","./Tile.ts"],(function(t){"use strict";var e,i,n,o,r;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){o=t.ColorType},function(t){r=t.Tile}],execute:function(){n._RF.push({},"fc3701HhL5N45JauM/DyiCU","TileColor",void 0);t("TileColor",function(t){function n(e){return t.call(this,e)||this}return e(n,t),i(n,[{key:"typeString",get:function(){return o[this.type]}}]),n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/TileDisco.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityTile.ts","./TileBonus.ts","./Tile.ts"],(function(t){"use strict";var i,e,o,n,l,r,c;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.ColorType,n=t.BonusType,l=t.COLORS},function(t){r=t.TileBonus},function(t){c=t.Tile}],execute:function(){e._RF.push({},"7b4ebpwOjRHMZCU9x2nOt/O","TileDisco",void 0);t("TileDisco",function(t){function e(){var i;return(i=t.call(this,n.disco)||this).color=void 0,i.color=Math.floor(Math.random()*l.length),i}return i(e,t),e.prototype.hit=function(){var i=t.prototype.hit.call(this),e=o[this.color];return this.gameField.eachCell((function(t){var o;(null==(o=t.tile)?void 0:o.typeString)===e&&c.tilesHitMerge(t.hit(),i)})),i},e}(r));e._RF.pop()}}}));

System.register("chunks:///_virtual/TileFactory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityTile.ts","./TileColor.ts","./TileRocket.ts","./TileBomb.ts","./TileDisco.ts","./TileBox.ts","./TileBubble.ts"],(function(e){"use strict";var t,o,n,i,r,c,l,u,s,a,T,f;return{setters:[function(e){t=e.createClass},function(e){o=e.cclegacy},function(e){n=e.BonusType,i=e.BlockType,r=e.ColorType,c=e.COLORS},function(e){l=e.TileColor},function(e){u=e.TileRocket},function(e){s=e.TileBomb},function(e){a=e.TileDisco},function(e){T=e.TileBox},function(e){f=e.TileBubble}],execute:function(){var b;o._RF.push({},"881deB9Bk1N05JvxVJkiNO3","TileFactory",void 0);var y=((b={})[n[n.rocket]]=u,b[n[n.bomb]]=s,b[n[n.disco]]=a,b[i[i.box]]=T,b[i[i.bubble]]=f,b);e("default",new(function(){function e(){}var o=e.prototype;return o.create=function(e){if(e in r)return this.createTileColor(r[e]);var t=y[e];return t?new t:void 0},o.createTileColor=function(e){return new l(e)},t(e,[{key:"randomTile",get:function(){return this.create(this.randomType)}},{key:"randomType",get:function(){var e=Math.floor(Math.random()*c.length);return c[e]}}]),e}()));o._RF.pop()}}}));

System.register("chunks:///_virtual/TileRocket.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityTile.ts","./TileBonus.ts","./EnumToArray.ts","./Tile.ts"],(function(t){"use strict";var i,e,r,s,o,l;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){r=t.BonusType},function(t){s=t.TileBonus},function(t){o=t.default},function(t){l=t.Tile}],execute:function(){var n;t("RocketDirection",void 0),e._RF.push({},"3959d4q2O5FQZd36VsqX6bB","TileRocket",void 0),function(t){t[t.horizontal=0]="horizontal",t[t.vertical=1]="vertical",t[t.cross=2]="cross"}(n||(n=t("RocketDirection",{})));o(n),t("TileRocket",function(t){function e(){var i;return(i=t.call(this,r.rocket)||this).radius=0,i.direction=void 0,i.direction=Math.floor(2*Math.random()),i}i(e,t);var s=e.prototype;return s.hit=function(){var i=t.prototype.hit.call(this);switch(this.direction){case n.horizontal:l.tilesHitMerge(this._hitHorizontal(),i);break;case n.vertical:l.tilesHitMerge(this._hitVertical(),i);break;case n.cross:l.tilesHitMerge(this._hitHorizontal(),i),l.tilesHitMerge(this._hitVertical(),i)}return i},s._hitHorizontal=function(){for(var t=[],i=1;i<this.gameField.columnCount;i++){for(var e=[],r=this.y-this.radius;r<=this.y+this.radius;r++)l.tilesHitMerge(this.gameField.hitCell(this.x+i,r),e),l.tilesHitMerge(this.gameField.hitCell(this.x-i,r),e);t.push.apply(t,e)}return t},s._hitVertical=function(){for(var t=[],i=1;i<this.gameField.rowCount;i++){for(var e=[],r=this.x-this.radius;r<=this.x+this.radius;r++)l.tilesHitMerge(this.gameField.hitCell(r,this.y+i),e),l.tilesHitMerge(this.gameField.hitCell(r,this.y-i),e);t.push.apply(t,e)}return t},e}(s));e._RF.pop()}}}));

System.register("chunks:///_virtual/ViewCell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IconFactory.ts","./EventManager.ts","./Icon.ts","./CellTiles.ts"],(function(e){"use strict";var t,n,i,o,c,r,l,s,a,h,u,d,f;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){c=e.cclegacy,r=e._decorator,l=e.Node,s=e.log,a=e.Component},function(e){h=e.IconFactory},function(e){u=e.default},function(e){d=e.Icon},function(e){f=e.CellTilesEvent}],execute:function(){var p;e("ViewCellEvent",void 0),c._RF.push({},"8b8d9KM4VJKvbhX7iD2dSQF","ViewCell",void 0);var v,C=r.ccclass;r.property;!function(e){e.click="ViewCellClick"}(v||(v=e("ViewCellEvent",{})));e("ViewCell",C("ViewCell")(p=function(e){function c(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).cell=void 0,t.gameFiledView=void 0,t}t(c,e);var r=c.prototype;return r.init=function(e,t){this.gameFiledView=e,this.cell=t,this._createIcons()},r._createIcons=function(){var e=this;this.cell.tiles.forEach((function(t){return e._createIcon(t)}))},r._createIcon=function(e){var t=h.instance.create(e);return t.gameFiledView=this.gameFiledView,t.node.setParent(this.node),t},r.start=function(){this.node.on(l.EventType.TOUCH_END,this.onClick,this),this.cell.subscribe(f.create,this.onCreateTile.bind(this),this),this.cell.subscribe(f.insert,this.onAddTile.bind(this),this),this.cell.subscribe(f.replace,this.onReplaceTile.bind(this),this)},r.onDestroy=function(){this.node.children.forEach((function(e){var t=e.getComponent(d);t&&t.destroy()})),this.node.removeAllChildren(),this.node.off(l.EventType.TOUCH_END,this.onClick,this),this.cell.unsubscribeTag(this)},r.onCreateTile=function(e){this._createIcon(e)},r.onAddTile=function(e){},r.onReplaceTile=function(e){this.node.removeAllChildren(),this._createIcon(e)},r.onClick=function(e){if(!this.cell.isHole){var t=this.cell.tile;t&&(s("cell ["+this.cell.x+","+this.cell.y+"] click: "+t.typeString),u.dispatch(v.click,this))}},r.drop=function(){var e=i(o().mark((function e(t){var n,i=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=0),n=[],this.node.children.forEach((function(e){var i=e.getComponent(d);n.push(i.drop(t))})),e.abrupt("return",new Promise((function(e){Promise.all(n).then((function(){e(i)}))})));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),n(c,[{key:"icon",get:function(){var e=this.node.children[0];return null==e?void 0:e.getComponent(d)}}]),c}(a))||p);c._RF.pop()}}}));

System.register("chunks:///_virtual/WidgetFit.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,r,s,n,a,o,h,c,_,p,f,g,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,s=t.assertThisInitialized,n=t.createClass},function(t){a=t.cclegacy,o=t._decorator,h=t.UITransform,c=t.Node,_=t.Enum,p=t.Size,f=t.Vec2,g=t.size,l=t.Component}],execute:function(){var u,d,y,T,m,v,z,S,E,b;t("WidgetFitType",void 0),a._RF.push({},"cd5ebnRfMNIIaM/lZr5oh8K","WidgetFit",void 0);var H,I=o.ccclass,L=o.property,N=o.executeInEditMode,w=o.requireComponent;!function(t){t[t.NONE=0]="NONE",t[t.WIDTH=1]="WIDTH",t[t.HEIGHT=2]="HEIGHT",t[t.ALL=3]="ALL"}(H||(H=t("WidgetFitType",{})));t("WidgetFit",(u=I("WidgetFit"),d=w(h),y=L(c),T=L(c),m=L({type:_(H)}),v=L({type:_(H)}),u(z=d(z=N((E=e((S=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,r(e,"_target",E,s(e)),r(e,"_scaleType",b,s(e)),e._transform=void 0,e._targetTransform=void 0,e._startSize=p.ZERO,e._startScale=f.ONE,e._ratio=0,e}i(e,t);var a=e.prototype;return a.start=function(){this._transform=this.getComponent(h),this._startSize=g(this._transform.width*this._startScale.x,this._transform.height*this._startScale.y),this._ratio=this._startSize.width/this._startSize.height,this._target||(this._target=this.node.parent),this._init()},a.onDisable=function(){this._removeListeners()},a._init=function(){this._targetTransform=void 0,this._target&&(this._initTransform(),this._initListeners(),this._resized())},a._initTransform=function(){var t;this._targetTransform=null==(t=this._target)?void 0:t.getComponent(h),this._targetTransform},a._initListeners=function(){var t;null==(t=this._target)||t.on(c.EventType.SIZE_CHANGED,this._resized.bind(this),this)},a._removeListeners=function(){var t;this._targetTransform=void 0,null==(t=this._target)||t.off(c.EventType.SIZE_CHANGED,this._resized.bind(this),this)},a._resized=function(){if(this._targetTransform)switch(this._scaleType){case H.NONE:break;case H.WIDTH:this._fitWidth();break;case H.HEIGHT:this._fitHeight();break;case H.ALL:var t=Math.min(this._targetTransform.width/this._startSize.width,this._targetTransform.height/this._startSize.height);this.node.setScale(t,t)}},a._fitWidth=function(){var t=this._targetTransform.width/this._startSize.width;this.node.setScale(t,t)},a._fitHeight=function(){var t=this._targetTransform.height/this._startSize.height;this.node.setScale(t,t)},n(e,[{key:"target",get:function(){return this._target},set:function(t){this._removeListeners(),this._target=t,this._init()}},{key:"scaleType",get:function(){return this._scaleType},set:function(t){this._scaleType=t,this._resized()}}]),e}(l)).prototype,"_target",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),e(S.prototype,"target",[T],Object.getOwnPropertyDescriptor(S.prototype,"target"),S.prototype),b=e(S.prototype,"_scaleType",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.NONE}}),e(S.prototype,"scaleType",[v],Object.getOwnPropertyDescriptor(S.prototype,"scaleType"),S.prototype),z=S))||z)||z)||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/WindowBase.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,i,c,r;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,i=t.UIOpacity,c=t.tween,r=t.Component}],execute:function(){var a;e._RF.push({},"ab300QITOVJBIl3ZO802jUb","WindowBase",void 0);var s=o.ccclass,u=(o.property,o.requireComponent);t("WindowBase",s("WindowBase")(a=u(i)(a=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var o=e.prototype;return o.open=function(){this.fadeOut((function(){}))},o.close=function(){var t=this;this.fadeIn((function(){t.node.removeFromParent()}))},o.fadeIn=function(t){this.fade(255,0,t)},o.fadeOut=function(t){this.fade(0,255,t)},o.fade=function(t,n,e){var o=this.getComponent(i);o.opacity=t,c(o).to(.5,{opacity:n},{onComplete:function(t){o.opacity=n,e&&e()}}).start()},e}(r))||a)||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/WindowGameOver.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WindowBase.ts"],(function(e){"use strict";var n,r,t,o;return{setters:[function(e){n=e.inheritsLoose},function(e){r=e.cclegacy,t=e._decorator},function(e){o=e.WindowBase}],execute:function(){var i,c;r._RF.push({},"301daZuSx1Lcqmz06eILZkM","WindowGameOver",void 0);var s=t.ccclass;t.property,e("WindowGameOver",s("WindowGameOver")(((c=function(e){function r(){return e.apply(this,arguments)||this}return n(r,e),r}(o)).ID="WindowGameOver",i=c))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/WindowManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WindowBase.ts"],(function(n){"use strict";var e,t,i,a,r,o,s,c,l,u,w,f,d;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,a=n.assertThisInitialized,r=n.createClass},function(n){o=n.cclegacy,s=n._decorator,c=n.Prefab,l=n.assert,u=n.log,w=n.instantiate,f=n.Component},function(n){d=n.WindowBase}],execute:function(){var p,h,_,g,b,y;o._RF.push({},"349e1gdGzlD/bIJ49pLCXJ5","WindowManager",void 0);var M=s.ccclass,P=s.property;n("WindowManager",(p=M("WindowManager"),h=P(c),p(((y=function(n){function e(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e=n.call.apply(n,[this].concat(r))||this,i(e,"windowsPrefab",b,a(e)),e._windowPrefabMap=new Map,e}t(e,n);var o=e.prototype;return o.onLoad=function(){l(!e._instance,"Only one instance allowed"),e._instance=this,this._initWindows()},o._initWindows=function(){var n=this;this._windowPrefabMap.clear(),this.windowsPrefab.forEach((function(e){n._windowPrefabMap.set(e.data.name,e)})),u(this._windowPrefabMap)},o._createWindow=function(n){var e=this._windowPrefabMap.get(n);if(e)return w(e).getComponent(d)},o.open=function(n){"string"!=typeof n&&(n=n.ID);var e=this._createWindow(n);if(e){e.node.setParent(this.node);for(var t=arguments.length,i=new Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];e.open(i)}},r(e,null,[{key:"instance",get:function(){return l(this._instance,"WindowManager instance is null"),this._instance}}]),e}(f))._instance=null,b=e((g=y).prototype,"windowsPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=g))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/WindowWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WindowBase.ts"],(function(n){"use strict";var i,t,o,e;return{setters:[function(n){i=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator},function(n){e=n.WindowBase}],execute:function(){var r,s;t._RF.push({},"b3b50F/d21MW4Yf1I9PPCvn","WindowWin",void 0);var c=o.ccclass;o.property,n("WindowWin",c("WindowWin")(((s=function(n){function t(){return n.apply(this,arguments)||this}return i(t,n),t}(e)).ID="WindowWin",r=s))||r);t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});